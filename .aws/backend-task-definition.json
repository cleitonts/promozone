{
  "family": "backend-task",
  "networkMode": "awsvpc",
  "requiresCompatibilities": ["FARGATE"],
  "cpu": "256",
  "memory": "512",
  "executionRoleArn": "arn:aws:iam::111215033598:role/promozone-ecs-task-role",
  "taskRoleArn": "arn:aws:iam::111215033598:role/promozone-ecs-task-role",
  "containerDefinitions": [
    {
      "name": "backend",
      "image": "111215033598.dkr.ecr.us-east-1.amazonaws.com/promozone:latest",
      "essential": true,
      "portMappings": [
        { "containerPort": 3000, "hostPort": 3000 }
      ],
      "secrets": [
        {
          "name": "DATABASE_PASSWORD",
          "valueFrom": "/prod/database/password"
        },
        {
          "name": "DATABASE_USER",
          "valueFrom": "/prod/database/user"
        },
        {
          "name": "DATABASE_HOST",
          "valueFrom": "/prod/database/url"
        },
        {
          "name": "DATABASE_NAME",
          "valueFrom": "/prod/database/db"
        }
      ],
      "environment": [
        {
          "name": "DATABASE_TYPE",
          "value": "postgres"
        },
        {
          "name": "BCRYPT_SALT_ROUNDS",
          "value": "10"
        },
        {
          "name": "ADMIN_PASSWORD",
          "value": "batatinha123"
        },
        {
          "name": "JWT_SECRET",
          "value": "batatinha123"
        },
        {
          "name": "DATABASE_ORM_SYNC",
          "value": "false"
        },
        {
          "name": "JWT_REFRESH_EXPIRES",
          "value": "20m"
        },
        {
          "name": "JWT_EXPIRES_IN",
          "value": "10m"
        },
        {
          "name": "ADMIN_EMAIL",
          "value": "cleitonsorrilha@gmail.com"
        }
      ]
    }
  ]
}
