@baseUrl = http://localhost:3000/api/v1
@contentType = application/json

### [1] Login (Obter JWT Token)
# @name login
POST {{baseUrl}}/auth/login
Content-Type: {{contentType}}

{
  "email": "admin@admin.com",
  "password": "admin"
}

###
@auth_token = {{login.response.body.access_token}}

### [2] Criar Post (Autenticado)
# @name createPost
POST {{baseUrl}}/posts
Authorization: Bearer {{auth_token}}
Content-Type: {{contentType}}

{
  "title": "Notebook Gamer em Promo√ß√£o",
  "content": "<p>Confira esta oferta incr√≠vel na <a href='https://exemplo.com'>Loja X</a></p>",
  "originalUrl": "https://amazon.com/produto/123",
  "currentPrice": 4500,
  "originalPrice": 5999,
  "discountPercentage": 25
}

###
@post_id = {{createPost.response.body.id}}
### [4] Listar Posts N√£o Autenticado
GET {{baseUrl}}/posts

### [5] Detalhes do Post
GET {{baseUrl}}/posts/{{post_id}}

### [6] Votar no Post (üëç)
POST {{baseUrl}}/posts/{{post_id}}/vote/up
Authorization: Bearer {{auth_token}}

### [7] Votar no Post (üëé)
POST {{baseUrl}}/posts/{{post_id}}/vote/down
Authorization: Bearer {{auth_token}}

### [8] Buscar Engajamento
GET {{baseUrl}}/posts/{{post_id}}/engagement

### [9] Listar Usu√°rios (Apenas Admin)
GET {{baseUrl}}/users
Authorization: Bearer {{auth_token}}

### [10] Erro: Criar Post sem Autentica√ß√£o
POST {{baseUrl}}/posts
Content-Type: {{contentType}}

{
  "title": "Post N√£o Autorizado",
  "content": "Conte√∫do inv√°lido"
}

### [11] Erro: Email Duplicado
POST {{baseUrl}}/users
Content-Type: {{contentType}}

{
  "email": "novo.user@example.com",
  "password": "outrasenha",
  "role": "user"
}